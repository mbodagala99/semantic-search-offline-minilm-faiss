<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>60/40 Layout Test</title>
    <link rel="stylesheet" href="styles/simple.css">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
        }
        
        .layout-info {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #3b82f6;
        }
        
        .measurement {
            background: #e0f2fe;
            padding: 10px;
            border-radius: 4px;
            margin: 5px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üìê 60/40 Layout Test</h1>
        
        <div class="layout-info">
            <h3>üéØ Layout Configuration:</h3>
            <ul>
                <li><strong>Left Section (Search Results):</strong> 60% width (adjustable 40%-80%)</li>
                <li><strong>Right Section (Chat):</strong> 40% width (adjustable 20%-60%)</li>
                <li><strong>Resize Handles:</strong> Red handles (‚§°) for horizontal adjustment</li>
                <li><strong>Constraints:</strong> Maintains minimum and maximum width limits</li>
            </ul>
        </div>
        
        <div class="layout-info">
            <h3>üîß How to Test:</h3>
            <ol>
                <li>Look for the <strong>red resize handles (‚§°)</strong> in section headers</li>
                <li>Click and drag the left section handle to resize the search results area</li>
                <li>Click and drag the right section handle to resize the chat area</li>
                <li>Notice how the sections maintain their proportional constraints</li>
            </ol>
        </div>
        
        <!-- Main Layout (same as main page) -->
        <div class="app-container">
            <header class="header">
                <h1 class="header-title">üè• Healthcare Search Assistant - Layout Test</h1>
            </header>
            
            <div class="main-layout">
                <!-- Left Section - 60% -->
                <div class="left-section" id="leftSection">
                    <div class="section-header">
                        <h3>üìä Search Results (60%)</h3>
                        <div class="resize-handle resize-handle-right" id="leftSectionResizeHandle"></div>
                    </div>
                    <div class="query-info">
                        <div class="measurement" id="leftMeasurement">
                            Left Section Width: <span id="leftWidth">-</span>px (<span id="leftPercent">-</span>%)
                        </div>
                        <p>This is the left section (Search Results) which should occupy 60% of the screen width by default.</p>
                        <p>You can resize it using the red handle above, but it will be constrained between 40% and 80% of the screen width.</p>
                    </div>
                </div>
                
                <!-- Right Section - 40% -->
                <div class="right-section" id="rightSection">
                    <div class="section-header">
                        <h3>üí¨ Chat (40%)</h3>
                        <div class="resize-handle resize-handle-left" id="rightSectionResizeHandle"></div>
                    </div>
                    <div class="chat-messages">
                        <div class="measurement" id="rightMeasurement">
                            Right Section Width: <span id="rightWidth">-</span>px (<span id="rightPercent">-</span>%)
                        </div>
                        <p>This is the right section (Chat) which should occupy 40% of the screen width by default.</p>
                        <p>You can resize it using the red handle above, but it will be constrained between 20% and 60% of the screen width.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="layout-info">
            <h3>üìä Layout Measurements:</h3>
            <div id="measurements">
                <div class="measurement">Screen Width: <span id="screenWidth">-</span>px</div>
                <div class="measurement">Left Section: <span id="leftSectionInfo">-</span></div>
                <div class="measurement">Right Section: <span id="rightSectionInfo">-</span></div>
                <div class="measurement">Total Used: <span id="totalUsed">-</span></div>
            </div>
        </div>
    </div>
    
    <script src="scripts/working.js"></script>
    <script>
        // Additional layout testing
        document.addEventListener('DOMContentLoaded', function() {
            const leftSection = document.getElementById('leftSection');
            const rightSection = document.getElementById('rightSection');
            const leftWidth = document.getElementById('leftWidth');
            const leftPercent = document.getElementById('leftPercent');
            const rightWidth = document.getElementById('rightWidth');
            const rightPercent = document.getElementById('rightPercent');
            const screenWidth = document.getElementById('screenWidth');
            const leftSectionInfo = document.getElementById('leftSectionInfo');
            const rightSectionInfo = document.getElementById('rightSectionInfo');
            const totalUsed = document.getElementById('totalUsed');
            
            function updateMeasurements() {
                const screenW = window.innerWidth;
                const leftRect = leftSection.getBoundingClientRect();
                const rightRect = rightSection.getBoundingClientRect();
                
                const leftW = Math.round(leftRect.width);
                const rightW = Math.round(rightRect.width);
                const leftP = Math.round((leftW / screenW) * 100);
                const rightP = Math.round((rightW / screenW) * 100);
                
                screenWidth.textContent = screenW;
                leftWidth.textContent = leftW;
                leftPercent.textContent = leftP;
                rightWidth.textContent = rightW;
                rightPercent.textContent = rightP;
                
                leftSectionInfo.textContent = `${leftW}px (${leftP}%)`;
                rightSectionInfo.textContent = `${rightW}px (${rightP}%)`;
                totalUsed.textContent = `${leftW + rightW}px (${leftP + rightP}%)`;
            }
            
            // Update measurements on resize
            window.addEventListener('resize', updateMeasurements);
            
            // Monitor for resize events
            if (leftSection) {
                const observer = new ResizeObserver(entries => {
                    updateMeasurements();
                });
                observer.observe(leftSection);
                observer.observe(rightSection);
            }
            
            // Initial measurement
            updateMeasurements();
        });
    </script>
</body>
</html>
